# Reentrancy Vulnerability in Solidity Withdrawal Function

This repository demonstrates a common reentrancy vulnerability in a Solidity contract's withdrawal function and its solution.  The vulnerable code allows an attacker to drain funds by exploiting the reentrancy bug. 

## Vulnerable Code (`withdrawBug.sol`)
The `withdraw` function in `withdrawBug.sol` suffers from a reentrancy vulnerability because it does not prevent the attacker's contract from re-entering the `withdraw` function before the balance is updated.

## Solution (`withdrawSolution.sol`)
The `withdraw` function in `withdrawSolution.sol` demonstrates a solution to the reentrancy vulnerability by using the Checks-Effects-Interactions pattern, ensuring that the balance is updated before sending the funds.

## How to Reproduce
1. Compile both `withdrawBug.sol` and `withdrawSolution.sol` using a Solidity compiler (e.g., solc).
2. Deploy both contracts to a test network (e.g., Ganache).
3. Interact with the `withdrawBug.sol` contract to observe the reentrancy vulnerability.
4. Interact with the `withdrawSolution.sol` contract to see that the vulnerability is resolved. 

## Disclaimer
This code is provided for educational purposes only.  Do not use this code in production without thoroughly understanding and mitigating the risks involved.